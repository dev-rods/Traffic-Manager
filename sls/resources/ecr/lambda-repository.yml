LambdaRepository:
  Type: AWS::ECR::Repository
  Properties:
    RepositoryName: ${self:service}-${self:custom.stage}-lambda
    ImageScanningConfiguration:
      ScanOnPush: true
    LifecyclePolicy:
      LifecyclePolicyText: |
        {
          "rules": [
            {
              "rulePriority": 1,
              "description": "Keep last 10 images",
              "selection": {
                "tagStatus": "any",
                "countType": "imageCountMoreThan",
                "countNumber": 10
              },
              "action": {
                "type": "expire"
              }
            }
          ]
        }
    ImageTagMutability: MUTABLE
